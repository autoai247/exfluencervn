# 🛠️ 개발 환경 구성 가이드

## VIET INFLUENCER 프로젝트 개발 스택

---

# 📋 목차

1. [전체 흐름](#1-전체-흐름)
2. [각 도구의 역할](#2-각-도구의-역할)
3. [실제 작업 흐름](#3-실제-작업-흐름)
4. [도구별 상세 설명](#4-도구별-상세-설명)
5. [초기 세팅 가이드](#5-초기-세팅-가이드)
6. [자주 쓰는 명령어](#6-자주-쓰는-명령어)

---

# 1. 전체 흐름

## 1-1. 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│                         [ 개발자 작업 환경 ]                             │
│                                                                         │
│   ┌──────────────┐      ┌──────────────┐      ┌──────────────┐         │
│   │              │      │              │      │              │         │
│   │   우분투     │ ───> │   VS Code    │ ───> │   GitHub     │         │
│   │   (터미널)   │      │  (코드편집)   │      │  (코드저장)   │         │
│   │              │      │              │      │              │         │
│   └──────────────┘      └──────────────┘      └──────┬───────┘         │
│                                                      │                  │
│         명령어 입력           코드 작성         git push               │
│                                                      │                  │
└──────────────────────────────────────────────────────┼──────────────────┘
                                                       │
                                                       │ 자동 감지
                                                       ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│                         [ 클라우드 서비스 ]                              │
│                                                                         │
│   ┌──────────────────────────────┐      ┌──────────────────────────┐   │
│   │                              │      │                          │   │
│   │          Vercel              │      │        Supabase          │   │
│   │       (웹사이트 배포)         │ <──> │     (데이터베이스)        │   │
│   │                              │      │                          │   │
│   │  • 자동 빌드                  │      │  • PostgreSQL DB         │   │
│   │  • 자동 배포                  │      │  • 인증 (Auth)           │   │
│   │  • CDN 호스팅                 │      │  • 파일 저장             │   │
│   │  • HTTPS                     │      │  • 실시간 기능           │   │
│   │                              │      │                          │   │
│   └──────────────────────────────┘      └──────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
                              │
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│                         [ 사용자 접속 ]                                  │
│                                                                         │
│            https://viet-influencer.vercel.app                          │
│                              또는                                       │
│            https://viet-influencer.com (커스텀 도메인)                   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## 1-2. 간단 요약

```
코드 수정 → git push → 자동 배포 → 웹사이트 반영

      VS Code        GitHub/Vercel      완료!
```

---

# 2. 각 도구의 역할

## 2-1. 한눈에 비교

| 도구 | 역할 | 비유 | 카테고리 |
|------|------|------|----------|
| **우분투 (터미널)** | 명령어 실행 | 🎮 게임 컨트롤러 | 로컬 |
| **VS Code** | 코드 작성/편집 | ✏️ 연필과 노트 | 로컬 |
| **GitHub** | 코드 저장/버전관리 | 📦 클라우드 창고 | 클라우드 |
| **Vercel** | 웹사이트 배포 | 🏪 오픈한 가게 | 클라우드 |
| **Supabase** | 데이터 저장/인증 | 🏦 금고 + 회원명부 | 클라우드 |

## 2-2. 역할 분류

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  [ 프론트엔드 ]              [ 백엔드 ]                      │
│                                                             │
│  ┌─────────────────┐        ┌─────────────────┐            │
│  │                 │        │                 │            │
│  │  VS Code        │        │  Supabase       │            │
│  │  (코드 작성)     │        │  (데이터베이스)  │            │
│  │                 │        │  (인증)         │            │
│  │        +        │        │  (파일저장)     │            │
│  │                 │        │                 │            │
│  │  Vercel         │        │                 │            │
│  │  (배포/호스팅)   │        │                 │            │
│  │                 │        │                 │            │
│  └─────────────────┘        └─────────────────┘            │
│                                                             │
│  사용자가 보는 화면            데이터 처리                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

# 3. 실제 작업 흐름

## 3-1. 일반적인 개발 흐름

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│  1️⃣ VS Code에서 코드 수정                                      │
│     └── 예: 캠페인 목록 페이지 UI 변경                          │
│                                                                │
│                         ▼                                      │
│                                                                │
│  2️⃣ 터미널에서 명령어 실행                                     │
│     └── git add .                                              │
│     └── git commit -m "캠페인 UI 수정"                         │
│     └── git push                                               │
│                                                                │
│                         ▼                                      │
│                                                                │
│  3️⃣ GitHub에 코드 업로드                                       │
│     └── 자동으로 Vercel에 알림                                  │
│                                                                │
│                         ▼                                      │
│                                                                │
│  4️⃣ Vercel이 자동으로                                          │
│     └── 코드 빌드 (npm run build)                              │
│     └── 배포 (서버에 업로드)                                    │
│     └── 약 1-2분 소요                                          │
│                                                                │
│                         ▼                                      │
│                                                                │
│  5️⃣ 웹사이트에 반영 완료!                                      │
│     └── https://your-site.vercel.app 접속하면 변경사항 확인     │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

## 3-2. 데이터 관련 작업 흐름

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│  [ 사용자가 회원가입할 때 ]                                     │
│                                                                │
│  1️⃣ 사용자가 웹사이트에서 가입 버튼 클릭                        │
│                         ▼                                      │
│  2️⃣ Vercel에서 호스팅 중인 Next.js 앱이 요청 처리              │
│                         ▼                                      │
│  3️⃣ Supabase Auth API 호출                                    │
│                         ▼                                      │
│  4️⃣ Supabase가 유저 생성 & DB에 저장                          │
│                         ▼                                      │
│  5️⃣ 가입 완료! 로그인 상태로 전환                              │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│  [ 캠페인 목록을 불러올 때 ]                                    │
│                                                                │
│  1️⃣ 사용자가 캠페인 페이지 접속                                 │
│                         ▼                                      │
│  2️⃣ Next.js 앱에서 Supabase에 쿼리                            │
│     └── supabase.from('campaigns').select('*')                │
│                         ▼                                      │
│  3️⃣ Supabase가 PostgreSQL에서 데이터 조회                     │
│                         ▼                                      │
│  4️⃣ JSON 형태로 응답                                          │
│                         ▼                                      │
│  5️⃣ React 컴포넌트에서 렌더링                                  │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

---

# 4. 도구별 상세 설명

## 4-1. 우분투 / 터미널

### 역할
- 명령어를 입력하고 실행하는 인터페이스
- 개발 서버 실행, 패키지 설치, Git 명령어 등

### 주요 사용처

```bash
# 프로젝트 생성
npx create-next-app@latest my-project

# 패키지 설치
npm install

# 개발 서버 실행
npm run dev

# Git 명령어
git add .
git commit -m "메시지"
git push

# 빌드 테스트
npm run build
```

### 비유
```
🎮 게임 컨트롤러

- 버튼을 누르면 (명령어 입력)
- 게임이 반응한다 (프로그램 실행)
```

---

## 4-2. VS Code (Visual Studio Code)

### 역할
- 코드 작성, 수정, 디버깅
- 프로젝트 파일 관리
- 확장 프로그램으로 기능 확장

### 주요 기능

```
VS Code 기능:
│
├── 📝 코드 편집
│   ├── 문법 하이라이팅
│   ├── 자동 완성 (IntelliSense)
│   ├── 코드 포맷팅
│   └── 에러 표시
│
├── 📂 파일 탐색기
│   ├── 폴더 구조 보기
│   ├── 파일 생성/삭제
│   └── 검색
│
├── 🔧 통합 터미널
│   └── VS Code 안에서 터미널 사용
│
├── 🐛 디버깅
│   ├── 브레이크포인트
│   └── 변수 확인
│
└── 🔌 확장 프로그램
    ├── ESLint (코드 검사)
    ├── Prettier (코드 정리)
    ├── Tailwind CSS IntelliSense
    └── GitLens (Git 히스토리)
```

### 추천 확장 프로그램

| 확장 | 용도 |
|------|------|
| ES7+ React/Redux/React-Native snippets | React 코드 스니펫 |
| Tailwind CSS IntelliSense | Tailwind 자동완성 |
| Prettier | 코드 자동 정리 |
| ESLint | 코드 오류 검사 |
| GitLens | Git 기록 보기 |
| Auto Rename Tag | HTML 태그 자동 수정 |

### 비유
```
✏️ 연필과 노트

- 코드를 작성하고 (글쓰기)
- 저장하고 (노트에 기록)
- 수정한다 (지우고 다시 쓰기)
```

---

## 4-3. GitHub

### 역할
- 코드 버전 관리 (Git)
- 코드 원격 저장소
- Vercel 자동 배포 트리거

### 주요 기능

```
GitHub 기능:
│
├── 📦 저장소 (Repository)
│   ├── 코드 저장
│   ├── 버전 히스토리
│   └── 브랜치 관리
│
├── 🔄 버전 관리
│   ├── commit: 변경사항 저장
│   ├── push: 원격에 업로드
│   ├── pull: 원격에서 다운로드
│   └── merge: 브랜치 합치기
│
├── 👥 협업
│   ├── Pull Request
│   ├── 코드 리뷰
│   └── Issue 관리
│
└── 🔗 연동
    ├── Vercel 자동 배포
    └── CI/CD 파이프라인
```

### Git 기본 명령어

```bash
# 저장소 복제
git clone https://github.com/username/repo.git

# 변경사항 확인
git status

# 변경사항 추가
git add .                    # 전체 추가
git add filename.tsx         # 특정 파일만

# 커밋 (저장)
git commit -m "변경 내용 설명"

# 원격에 업로드 (이때 Vercel 자동 배포!)
git push

# 원격에서 가져오기
git pull

# 브랜치 생성
git checkout -b feature/new-feature

# 브랜치 전환
git checkout main
```

### 비유
```
📦 클라우드 창고 + 🚨 알람 시스템

- 코드를 안전하게 보관하고 (창고)
- 변경되면 Vercel에 알려준다 (알람)
```

---

## 4-4. Vercel

### 역할
- 프론트엔드 웹사이트 배포
- 자동 빌드 & 배포
- CDN으로 전세계 빠른 로딩
- 서버리스 함수 (API Routes)

### 주요 기능

```
Vercel 기능:
│
├── 🚀 자동 배포
│   ├── GitHub에 push → 자동 빌드
│   ├── 빌드 성공 → 자동 배포
│   └── 빌드 실패 → 알림
│
├── 🌐 호스팅
│   ├── 무료 도메인: your-project.vercel.app
│   ├── 커스텀 도메인 연결 가능
│   └── 자동 HTTPS (SSL)
│
├── ⚡ 성능
│   ├── 글로벌 CDN (전세계 빠른 로딩)
│   ├── 자동 이미지 최적화
│   └── Edge 캐싱
│
├── 🔧 서버리스 함수
│   ├── API Routes (/api/*)
│   ├── 서버 없이 백엔드 로직
│   └── 웹훅 처리
│
└── 👀 미리보기
    ├── PR 생성 → 자동 미리보기 URL
    └── 팀원들과 확인 후 머지
```

### 배포 흐름

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│  git push                                                      │
│      │                                                         │
│      ▼                                                         │
│  GitHub이 Vercel에 웹훅 전송                                    │
│      │                                                         │
│      ▼                                                         │
│  Vercel이 코드 가져오기                                         │
│      │                                                         │
│      ▼                                                         │
│  npm install (패키지 설치)                                      │
│      │                                                         │
│      ▼                                                         │
│  npm run build (빌드)                                          │
│      │                                                         │
│      ├── 성공 → 배포 완료! 🎉                                   │
│      │                                                         │
│      └── 실패 → 에러 알림 📧                                    │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### 비유
```
🏪 오픈한 가게

- 상품(웹사이트)을 진열하고 (배포)
- 손님(사용자)이 방문한다 (접속)
- 가게 위치가 전세계에 있다 (CDN)
```

---

## 4-5. Supabase

### 역할
- PostgreSQL 데이터베이스
- 사용자 인증 (Auth)
- 파일 저장 (Storage)
- 실시간 기능 (Realtime)
- 자동 API 생성

### 주요 기능

```
Supabase 기능:
│
├── 💾 데이터베이스 (PostgreSQL)
│   ├── 테이블 생성/관리
│   ├── SQL 쿼리 실행
│   ├── 자동 REST API 생성
│   └── Row Level Security (보안)
│
├── 🔐 인증 (Auth)
│   ├── 이메일/비밀번호 로그인
│   ├── 소셜 로그인 (Google, Facebook, Apple)
│   ├── 매직 링크 (이메일 인증)
│   ├── SMS 인증
│   └── 세션 관리
│
├── 📁 스토리지 (Storage)
│   ├── 이미지 업로드
│   ├── 파일 관리
│   ├── CDN 제공
│   └── 접근 권한 설정
│
├── ⚡ 실시간 (Realtime)
│   ├── 데이터 변경 감지
│   ├── 실시간 채팅
│   └── 실시간 알림
│
└── 🔧 Edge Functions
    ├── 서버리스 함수
    └── 웹훅 처리
```

### VIET INFLUENCER 테이블 예시

```sql
-- 사용자 테이블
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email TEXT UNIQUE,
  name TEXT,
  type TEXT, -- 'influencer' or 'advertiser'
  created_at TIMESTAMP
);

-- 캠페인 테이블
CREATE TABLE campaigns (
  id UUID PRIMARY KEY,
  advertiser_id UUID REFERENCES users(id),
  title TEXT,
  description TEXT,
  points_per_influencer INTEGER,
  max_influencers INTEGER,
  status TEXT,
  created_at TIMESTAMP
);

-- 포인트 테이블
CREATE TABLE point_transactions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  type TEXT, -- 'charge', 'earn', 'withdraw', 'ticket'
  amount INTEGER,
  description TEXT,
  created_at TIMESTAMP
);

-- 응모권 테이블
CREATE TABLE raffle_tickets (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  season INTEGER,
  ticket_count INTEGER,
  created_at TIMESTAMP
);
```

### 코드에서 사용 예시

```typescript
import { createClient } from '@supabase/supabase-js'

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)

// 캠페인 목록 가져오기
const { data: campaigns } = await supabase
  .from('campaigns')
  .select('*')
  .eq('status', 'active')
  .order('created_at', { ascending: false })

// 회원가입
const { data, error } = await supabase.auth.signUp({
  email: 'user@example.com',
  password: 'password123'
})

// 포인트 적립
const { data } = await supabase
  .from('point_transactions')
  .insert({
    user_id: userId,
    type: 'earn',
    amount: 50000,
    description: '캠페인 완료 보상'
  })
```

### 비유
```
🏦 금고 + 📋 회원 명부

- 데이터를 안전하게 저장하고 (금고)
- 누가 접근할 수 있는지 관리한다 (회원 명부)
```

---

# 5. 초기 세팅 가이드

## 5-1. 필요한 계정 생성

| 서비스 | URL | 용도 |
|--------|-----|------|
| GitHub | https://github.com | 코드 저장소 |
| Vercel | https://vercel.com | 웹 배포 |
| Supabase | https://supabase.com | 데이터베이스 |

## 5-2. 로컬 환경 설정

```bash
# 1. Node.js 설치 (이미 설치되어 있다면 스킵)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# 2. 버전 확인
node -v  # v20.x.x
npm -v   # 10.x.x

# 3. Git 설정
git config --global user.name "Your Name"
git config --global user.email "your@email.com"
```

## 5-3. 프로젝트 생성

```bash
# 1. Next.js 프로젝트 생성
npx create-next-app@latest viet-influencer --typescript --tailwind --eslint --app

# 2. 폴더 이동
cd viet-influencer

# 3. Supabase 클라이언트 설치
npm install @supabase/supabase-js

# 4. 환경 변수 파일 생성
touch .env.local
```

## 5-4. 환경 변수 설정

```bash
# .env.local 파일 내용

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxxxx...

# 기타 (필요시)
NEXT_PUBLIC_APP_URL=https://viet-influencer.vercel.app
```

## 5-5. GitHub 연결

```bash
# 1. GitHub에서 새 저장소 생성 (웹에서)

# 2. 로컬에서 연결
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/username/viet-influencer.git
git push -u origin main
```

## 5-6. Vercel 연결

```
1. https://vercel.com 접속
2. "New Project" 클릭
3. GitHub 저장소 선택 (viet-influencer)
4. 환경 변수 입력:
   - NEXT_PUBLIC_SUPABASE_URL
   - NEXT_PUBLIC_SUPABASE_ANON_KEY
5. "Deploy" 클릭
6. 완료! 🎉
```

## 5-7. Supabase 연결

```
1. https://supabase.com 접속
2. "New Project" 생성
3. 프로젝트 설정에서 API 키 복사
4. .env.local에 붙여넣기
5. 테이블 생성 (SQL Editor에서)
```

---

# 6. 자주 쓰는 명령어

## 6-1. 개발 관련

```bash
# 개발 서버 시작
npm run dev

# 빌드 (배포 전 테스트)
npm run build

# 빌드된 앱 실행
npm start

# 패키지 설치
npm install 패키지명

# 패키지 삭제
npm uninstall 패키지명

# 패키지 업데이트
npm update
```

## 6-2. Git 관련

```bash
# 상태 확인
git status

# 변경사항 추가
git add .

# 커밋
git commit -m "메시지"

# 푸시 (배포 트리거!)
git push

# 풀 (원격 변경사항 가져오기)
git pull

# 브랜치 생성 & 전환
git checkout -b feature/new-feature

# 메인으로 전환
git checkout main

# 브랜치 머지
git merge feature/new-feature

# 로그 확인
git log --oneline
```

## 6-3. 한줄 배포 명령어

```bash
# 수정 → 커밋 → 푸시 (자동 배포)
git add . && git commit -m "업데이트" && git push
```

---

# 📊 요약 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│                    VIET INFLUENCER 개발 스택                            │
│                                                                         │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                          로컬 개발 환경                           │  │
│  │                                                                  │  │
│  │   🖥️ 우분투          ✏️ VS Code          📦 GitHub              │  │
│  │   터미널              코드 편집           코드 저장              │  │
│  │   명령어 실행          UI 작성            버전 관리              │  │
│  │                                          ↓                      │  │
│  │                                     git push                    │  │
│  └──────────────────────────────────────────┼───────────────────────┘  │
│                                             │                          │
│                                             │ 자동                     │
│                                             ▼                          │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                          클라우드 서비스                          │  │
│  │                                                                  │  │
│  │   🚀 Vercel                         🗄️ Supabase                  │  │
│  │   ─────────────                     ─────────────                │  │
│  │   • 웹사이트 배포                    • 데이터베이스               │  │
│  │   • 자동 빌드                        • 사용자 인증                │  │
│  │   • CDN 호스팅                       • 파일 저장                  │  │
│  │   • API Routes                       • 실시간 기능                │  │
│  │                                                                  │  │
│  │              ◀──── API 통신 ────▶                                │  │
│  │                                                                  │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                             │                          │
│                                             │                          │
│                                             ▼                          │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                                                                  │  │
│  │                    👥 사용자 (인플루언서 / 광고주)                 │  │
│  │                                                                  │  │
│  │                 https://viet-influencer.vercel.app               │  │
│  │                                                                  │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

# ✅ 체크리스트

## 계정 생성
- [ ] GitHub 계정
- [ ] Vercel 계정
- [ ] Supabase 계정

## 로컬 환경
- [ ] Node.js 설치
- [ ] VS Code 설치
- [ ] Git 설정

## 프로젝트 설정
- [ ] Next.js 프로젝트 생성
- [ ] Supabase 클라이언트 설치
- [ ] 환경 변수 설정

## 연동
- [ ] GitHub 저장소 생성 & 연결
- [ ] Vercel 프로젝트 연결
- [ ] Supabase 프로젝트 생성

## 테스트
- [ ] 로컬 개발 서버 실행 (npm run dev)
- [ ] git push → Vercel 자동 배포 확인
- [ ] Supabase 연결 테스트

---

*VIET INFLUENCER 개발팀*
*버전 1.0 | 2026.02*
